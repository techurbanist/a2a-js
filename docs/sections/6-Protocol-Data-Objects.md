<!-- Extracted from the A2A Protocol Specification -->
<!-- Source: docs/specification.md -->

## 6. Protocol Data Objects

These objects define the structure of data exchanged within the JSON-RPC methods of the A2A protocol.

### 6.1. `Task` Object

Represents the stateful unit of work being processed by the A2A Server for an A2A Client. A task encapsulates the entire interaction related to a specific goal or request.

```typescript
interface Task {
  // A unique identifier for the task. This ID is typically generated by the client
  // when initiating the task and MUST be used by the server to refer to this task.
  // It should be sufficiently unique (e.g., a UUID v4).
  id: string;
  // An optional, client-generated identifier used to group related tasks into a logical session.
  // Useful for maintaining context across multiple, sequential, or related tasks.
  sessionId?: string | null;
  // The current status of the task, including its lifecycle state, an optional associated message,
  // and a timestamp.
  status: TaskStatus;
  // An array of outputs (artifacts) generated by the agent for this task.
  // This array can be populated incrementally, especially during streaming.
  // Artifacts represent the tangible results of the task.
  artifacts?: Artifact[] | null;
  // An optional array of recent messages exchanged within this task,
  // ordered chronologically (oldest first).
  // This history is included if requested by the client via the `historyLength` parameter
  // in `TaskSendParams` or `TaskQueryParams`.
  history?: Message[] | null;
  // Arbitrary key-value metadata associated with the task.
  // Keys SHOULD be strings; values can be any valid JSON type (string, number, boolean, array, object).
  // This can be used for application-specific data, tracing info, etc.
  metadata?: Record<string, any> | null;
}
```

| Field Name  | Type                                          | Required | Description                                                                   |
| :---------- | :-------------------------------------------- | :------- | :---------------------------------------------------------------------------- |
| `id`        | `string`                                      | Yes      | Unique task identifier (e.g., UUID), typically client-generated.              |
| `sessionId` | `string` \| `null`                            | No       | Optional client-generated ID to group related tasks into a session.           |
| `status`    | [`TaskStatus`](#62-taskstatus-object)         | Yes      | Current status of the task (state, message, timestamp).                       |
| `artifacts` | [`Artifact[]`](#67-artifact-object) \| `null` | No       | Array of outputs generated by the agent for this task.                        |
| `history`   | [`Message[]`](#64-message-object) \| `null`   | No       | Optional array of recent messages exchanged, if requested by `historyLength`. |
| `metadata`  | `Record<string, any>` \| `null`               | No       | Arbitrary key-value metadata associated with the task.                        |

### 6.2. `TaskStatus` Object

Represents the current state and associated context (e.g., a message from the agent) of a `Task`.

```typescript
interface TaskStatus {
  // The current lifecycle state of the task.
  state: TaskState;
  // An optional message associated with the current status.
  // This could be a progress update from the agent, a prompt for more input,
  // a summary of the final result, or an error message.
  message?: Message | null;
  // The date and time (UTC is STRONGLY recommended) when this status was recorded by the server.
  // Format: ISO 8601 `date-time` string (e.g., "2023-10-27T10:00:00Z").
  timestamp?: string | null;
}
```

| Field Name  | Type                                      | Required | Description                                                |
| :---------- | :---------------------------------------- | :------- | :--------------------------------------------------------- |
| `state`     | [`TaskState`](#63-taskstate-enum)         | Yes      | Current lifecycle state of the task.                       |
| `message`   | [`Message`](#64-message-object) \| `null` | No       | Optional message providing context for the current status. |
| `timestamp` | `string` (ISO 8601) \| `null`             | No       | Timestamp (UTC recommended) when this status was recorded. |

### 6.3. `TaskState` Enum

Defines the possible lifecycle states of a `Task`.

```typescript
type TaskState =
  | 'submitted' // Task received by server, acknowledged, but processing has not yet actively started.
  | 'working' // Task is actively being processed by the agent.
  | 'input-required' // Agent requires additional input from the client/user to proceed. (Task is paused)
  | 'completed' // Task finished successfully. (Terminal state)
  | 'canceled' // Task was canceled by the client or potentially by the server. (Terminal state)
  | 'failed' // Task terminated due to an error during processing. (Terminal state)
  | 'unknown'; // The state of the task cannot be determined (e.g., task ID invalid or expired). (Effectively a terminal state from client's PoV for that ID)
```

| Value            | Description                                                                                              | Terminal?  |
| :--------------- | :------------------------------------------------------------------------------------------------------- | :--------- |
| `submitted`      | Task received by the server and acknowledged, but processing has not yet actively started.               | No         |
| `working`        | Task is actively being processed by the agent. Client may expect further updates or a terminal state.    | No         |
| `input-required` | Agent requires additional input from the client/user to proceed. The task is effectively paused.         | No (Pause) |
| `completed`      | Task finished successfully. Results are typically available in `Task.artifacts` or `TaskStatus.message`. | Yes        |
| `canceled`       | Task was canceled (e.g., by a `tasks/cancel` request or server-side policy).                             | Yes        |
| `failed`         | Task terminated due to an error during processing. `TaskStatus.message` may contain error details.       | Yes        |
| `unknown`        | The state of the task cannot be determined (e.g., task ID is invalid, unknown, or has expired).          | Yes        |

### 6.4. `Message` Object

Represents a single communication turn or a piece of contextual information within a `Task`. Messages are used for instructions, prompts, replies, and status updates.

```typescript
interface Message {
  // Indicates the sender of the message:
  // "user" for messages originating from the A2A Client (acting on behalf of an end-user or system).
  // "agent" for messages originating from the A2A Server (the remote agent).
  role: 'user' | 'agent';
  // An array containing the content of the message, broken down into one or more parts.
  // A message MUST contain at least one part.
  // Using multiple parts allows for rich, multi-modal content (e.g., text accompanying an image).
  parts: Part[];
  // Arbitrary key-value metadata associated with the message.
  // Keys SHOULD be strings; values can be any valid JSON type.
  // Useful for timestamps, source identifiers, language codes, etc.
  metadata?: Record<string, any> | null;
}
```

| Field Name | Type                            | Required | Description                                                                      |
| :--------- | :------------------------------ | :------- | :------------------------------------------------------------------------------- |
| `role`     | `"user"` \| `"agent"`           | Yes      | Indicates the sender: `"user"` (from A2A Client) or `"agent"` (from A2A Server). |
| `parts`    | [`Part[]`](#65-part-union-type) | Yes      | Array of content parts. Must contain at least one part.                          |
| `metadata` | `Record<string, any>` \| `null` | No       | Arbitrary key-value metadata associated with this message.                       |

### 6.5. `Part` Union Type

Represents a distinct piece of content within a `Message` or `Artifact`. A `Part` object is a discriminated union, identified by its mandatory `type` field. All `Part` types also include an optional `metadata` field (`Record<string, any> | null`) for part-specific metadata.

It **MUST** be one of the following:

#### 6.5.1. `TextPart` Object

For conveying plain textual content.

```typescript
interface TextPart {
  type: 'text'; // Discriminator
  text: string; // The actual textual content.
  metadata?: Record<string, any> | null; // Optional metadata (e.g., language, formatting hints if any)
}
```

| Field Name | Type                            | Required | Description                                   |
| :--------- | :------------------------------ | :------- | :-------------------------------------------- |
| `type`     | `"text"` (literal)              | Yes      | Identifies this part as textual content.      |
| `text`     | `string`                        | Yes      | The textual content of the part.              |
| `metadata` | `Record<string, any>` \| `null` | No       | Optional metadata specific to this text part. |

#### 6.5.2. `FilePart` Object

For conveying file-based content.

```typescript
interface FilePart {
  type: 'file'; // Discriminator
  file: FileContent; // Contains the file details and data (or reference).
  metadata?: Record<string, any> | null; // Optional metadata (e.g., purpose of the file)
}
```

| Field Name | Type                                    | Required | Description                                   |
| :--------- | :-------------------------------------- | :------- | :-------------------------------------------- |
| `type`     | `"file"` (literal)                      | Yes      | Identifies this part as file content.         |
| `file`     | [`FileContent`](#66-filecontent-object) | Yes      | Contains the file details and data/reference. |
| `metadata` | `Record<string, any>` \| `null`         | No       | Optional metadata specific to this file part. |

#### 6.5.3. `DataPart` Object

For conveying structured JSON data. Useful for forms, parameters, or any machine-readable information.

```typescript
interface DataPart {
  type: 'data'; // Discriminator
  // The structured JSON data payload. This can be any valid JSON object or array.
  // The schema of this data is application-defined and may be implicitly understood
  // by the interacting agents or explicitly described (e.g., via a JSON Schema reference
  // in the `metadata` or associated `AgentSkill`).
  data: Record<string, any> | any[];
  metadata?: Record<string, any> | null; // Optional metadata (e.g., schema URL, version)
}
```

| Field Name | Type                             | Required | Description                                                                 |
| :--------- | :------------------------------- | :------- | :-------------------------------------------------------------------------- |
| `type`     | `"data"` (literal)               | Yes      | Identifies this part as structured data.                                    |
| `data`     | `Record<string, any>` \| `any[]` | Yes      | The structured JSON data payload (an object or an array).                   |
| `metadata` | `Record<string, any>` \| `null`  | No       | Optional metadata specific to this data part (e.g., reference to a schema). |

### 6.6. `FileContent` Object

Represents the data or reference for a file, used within a `FilePart`.

```typescript
interface FileContent {
  // The original filename, if known (e.g., "document.pdf", "avatar.png").
  name?: string | null;
  // The [MIME type](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types)
  // of the file (e.g., "application/pdf", "image/png"). Strongly recommended for proper handling.
  mimeType?: string | null;
  // Base64 encoded string of the raw file content.
  // Use this for embedding small to medium-sized files directly.
  bytes?: string | null; // Base64 string
  // A URI (absolute URL is STRONGLY recommended) pointing to the file content.
  // Accessibility of this URI depends on the context (e.g., public URL, pre-signed URL, internal URL).
  // The client and server must have a way to resolve and access this URI if used.
  uri?: string | null;

  // Constraint: If file content is being transmitted, exactly one of `bytes` or `uri` MUST be non-null.
  // Both MAY be `null` or absent if the `FilePart` is merely representing a file reference
  // without transmitting its content in the current message (e.g., referring to a previously uploaded file).
}
```

| Field Name | Type               | Required                       | Description                                                                                                                         |
| :--------- | :----------------- | :----------------------------- | :---------------------------------------------------------------------------------------------------------------------------------- |
| `name`     | `string` \| `null` | No                             | Original filename (e.g., "report.pdf").                                                                                             |
| `mimeType` | `string` \| `null` | No                             | [MIME type](https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types) (e.g., `image/png`). Strongly recommended. |
| `bytes`    | `string` \| `null` | Conditionally (See Constraint) | Base64 encoded file content.                                                                                                        |
| `uri`      | `string` \| `null` | Conditionally (See Constraint) | URI (absolute URL strongly recommended) to file content. Accessibility is context-dependent.                                        |

**Constraint:** If file content is being transmitted, exactly one of `bytes` or `uri` **MUST** be provided and non-null. Both MAY be `null` or absent if the `FilePart` is only a reference or metadata about a file whose content is not being transferred in this specific part.

### 6.7. `Artifact` Object

Represents a tangible output generated by the agent during a task. Artifacts are the results or products of the agent's work.

```typescript
interface Artifact {
  // A descriptive name for the artifact (e.g., "Quarterly Sales Report.pdf", "Generated Logo Design", "analysis_results.json").
  // This name might be used by the client for display or identification.
  name?: string | null;
  // A human-readable description of the artifact. [CommonMark](https://commonmark.org/) MAY be used.
  description?: string | null;
  // An array containing the content of the artifact, broken down into one or more parts.
  // An artifact MUST contain at least one part.
  // Using multiple parts allows for complex artifacts (e.g., a report with embedded images or data tables).
  parts: Part[];
  // A non-negative integer index for ordering artifacts or identifying artifact chunks during streaming.
  // Multiple artifacts (or artifact updates) can share the same index if they represent parts of the same logical output
  // that are being streamed or delivered separately.
  // Default: 0 if omitted.
  index?: number;
  // Used with streaming (`TaskArtifactUpdateEvent`):
  // If `true`, indicates this update's `parts` should be appended to the content of the artifact
  // currently identified by the same `index` value. This is useful for streaming textual data or
  // appending elements to a list in a `DataPart`.
  // If `false` or `null` (or omitted), this update replaces the artifact content at the given `index`.
  // This field is typically `false` for the first chunk of a streamed artifact.
  append?: boolean | null;
  // Used with streaming (`TaskArtifactUpdateEvent`):
  // If `true`, indicates this is the final update/chunk for the artifact at this `index`.
  // Signals the end of a streamed file or data structure.
  lastChunk?: boolean | null;
  // Arbitrary key-value metadata associated with the artifact.
  // Keys SHOULD be strings; values can be any valid JSON type.
  // Useful for creation timestamps, versioning info, checksums, etc.
  metadata?: Record<string, any> | null;
}
```

| Field Name    | Type                            | Required | Default | Description                                                                                                                  |
| :------------ | :------------------------------ | :------- | :------ | :--------------------------------------------------------------------------------------------------------------------------- |
| `name`        | `string` \| `null`              | No       | `null`  | Descriptive name for the artifact.                                                                                           |
| `description` | `string` \| `null`              | No       | `null`  | Human-readable description of the artifact.                                                                                  |
| `parts`       | [`Part[]`](#65-part-union-type) | Yes      |         | Content of the artifact, as one or more `Part` objects. Must have at least one.                                              |
| `index`       | `integer`                       | No       | `0`     | Non-negative index for ordering artifacts or identifying chunks during streaming.                                            |
| `append`      | `boolean` \| `null`             | No       | `false` | In streaming (`TaskArtifactUpdateEvent`), `true` means append parts to artifact at `index`; `false` (default) means replace. |
| `lastChunk`   | `boolean` \| `null`             | No       | `false` | In streaming (`TaskArtifactUpdateEvent`), `true` indicates this is the final update for the artifact at this `index`.        |
| `metadata`    | `Record<string, any>` \| `null` | No       | `null`  | Arbitrary key-value metadata associated with the artifact.                                                                   |

### 6.8. `PushNotificationConfig` Object

Configuration provided by the client to the server for sending asynchronous push notifications about task updates.

```typescript
interface PushNotificationConfig {
  // The absolute HTTPS webhook URL where the A2A Server should POST task updates.
  // This URL MUST be HTTPS for security.
  url: string;
  // An optional, client-generated opaque token (e.g., a secret, a task-specific identifier, or a nonce).
  // The A2A Server SHOULD include this token in the notification request it sends to the `url`
  // (e.g., in a custom HTTP header like `X-A2A-Notification-Token` or similar).
  // This allows the client's webhook receiver to validate the relevance and authenticity of the notification.
  token?: string | null;
  // Authentication details the A2A Server needs to use when calling the client's `url`.
  // The client's webhook endpoint defines these requirements. This tells the A2A Server how to authenticate *itself* to the client's webhook.
  authentication?: AuthenticationInfo | null;
}
```

| Field Name       | Type                                                                                   | Required | Description                                                                                                                                                               |
| :--------------- | :------------------------------------------------------------------------------------- | :------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `url`            | `string`                                                                               | Yes      | Absolute HTTPS webhook URL for the A2A Server to POST task updates to.                                                                                                    |
| `token`          | `string` \| `null`                                                                     | No       | Optional client-generated opaque token for the client's webhook receiver to validate the notification (e.g., server includes it in an `X-A2A-Notification-Token` header). |
| `authentication` | [`AuthenticationInfo`](#69-authenticationinfo-object-for-push-notifications) \| `null` | No       | Authentication details the A2A Server must use when calling the `url`. The client's webhook (receiver) defines these requirements.                                        |

### 6.9. `AuthenticationInfo` Object (for Push Notifications)

A generic structure for specifying authentication requirements, typically used within `PushNotificationConfig` to describe how the A2A Server should authenticate to the client's webhook.

```typescript
interface AuthenticationInfo {
  // Array of authentication scheme names the caller (i.e., the A2A Server, in the context of push notifications)
  // must use when sending the request to the webhook URL (e.g., "Bearer" for an OAuth token, "ApiKey" for a pre-shared key, "Basic").
  // Standard names SHOULD be used.
  schemes: string[];
  // Optional field for providing static credentials or scheme-specific information
  // that the A2A Server needs to use.
  // Examples:
  // - For "ApiKey": A JSON string like `{"in": "header", "name": "X-Client-Webhook-Key", "value": "actual_api_key_value"}`.
  // - For "Bearer": If the A2A Server is expected to use a specific pre-issued token, it could be provided here. More commonly, the server would obtain its own token using OAuth client credentials flow if this field specifies an OAuth scheme.
  // **CRITICAL**: Use with extreme caution if this field contains secrets. This configuration is sent from client to server.
  // Prefer mechanisms where the server fetches its own credentials dynamically (e.g., OAuth client credentials flow with a pre-configured client ID/secret on the server side for the webhook's audience)
  // rather than having the client provide secrets to the server.
  // If this field *must* carry a secret, the A2A communication channel itself must be exceptionally secure, and both client and server must handle this data with care.
  credentials?: string | null; // E.g., A JSON string parsable by the server.
}
```

| Field Name    | Type               | Required | Description                                                                                                                                                                                |
| :------------ | :----------------- | :------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `schemes`     | `string[]`         | Yes      | Array of auth scheme names the A2A Server must use when calling the client's webhook (e.g., "Bearer", "ApiKey").                                                                           |
| `credentials` | `string` \| `null` | No       | Optional static credentials or scheme-specific configuration info. **Handle with EXTREME CAUTION if secrets are involved.** Prefer server-side dynamic credential fetching where possible. |

### 6.10. `TaskPushNotificationConfig` Object

Used as the `params` object for the [`tasks/pushNotification/set`](#75-taskspushnotificationset) method and as the `result` object for the [`tasks/pushNotification/get`](#76-taskspushnotificationget) method.

```typescript
interface TaskPushNotificationConfig {
  // The ID of the task for which push notification settings are being configured or retrieved.
  id: string;
  // The push notification configuration details.
  // When used as params for `set`, this provides the configuration to apply.
  // When used as result for `get`, this reflects the currently active configuration (server MAY omit secrets).
  // If `null` when setting, it might indicate clearing existing configuration (server-dependent).
  pushNotificationConfig: PushNotificationConfig | null;
}
```

| Field Name               | Type                                                                    | Required | Description                                                                                                                                                               |
| :----------------------- | :---------------------------------------------------------------------- | :------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| `id`                     | `string`                                                                | Yes      | The ID of the task to configure push notifications for, or retrieve configuration from.                                                                                   |
| `pushNotificationConfig` | [`PushNotificationConfig`](#68-pushnotificationconfig-object) \| `null` | Yes      | The push notification configuration. For `set`, the desired config. For `get`, the current config (secrets MAY be omitted by server). `null` might clear config on `set`. |

### 6.11. JSON-RPC Structures

A2A adheres to the standard [JSON-RPC 2.0](https://www.jsonrpc.org/specification) structures for requests and responses.

#### 6.11.1. `JSONRPCRequest` Object

All A2A method calls are encapsulated in a JSON-RPC Request object.

- `jsonrpc`: A String specifying the version of the JSON-RPC protocol. **MUST** be exactly `"2.0"`.
- `method`: A String containing the name of the method to be invoked (e.g., `"tasks/send"`, `"tasks/get"`).
- `params`: A Structured value that holds the parameter values to be used during the invocation of the method. This member **MAY** be omitted if the method expects no parameters. A2A methods typically use an `object` for `params`.
- `id`: An identifier established by the Client that **MUST** contain a String, Number, or `NULL` value if included. If it is not included it is assumed to be a notification. The value **SHOULD NOT** be `NULL` for requests expecting a response, and Numbers **SHOULD NOT** contain fractional parts. The Server **MUST** reply with the same value in the Response object if included. This member is used to correlate the context between the two objects. A2A methods typically expect a response or stream, so `id` will usually be present and non-null.

#### 6.11.2. `JSONRPCResponse` Object

Responses from the A2A Server are encapsulated in a JSON-RPC Response object.

- `jsonrpc`: A String specifying the version of the JSON-RPC protocol. **MUST** be exactly `"2.0"`.
- `id`: This member is **REQUIRED**. It **MUST** be the same as the value of the `id` member in the Request Object. If there was an error in detecting the `id` in the Request object (e.g. Parse error/Invalid Request), it **MUST** be `null`.
- **EITHER** `result`: This member is **REQUIRED** on success. This member **MUST NOT** exist if there was an error invoking the method. The value of this member is determined by the method invoked on the Server.
- **OR** `error`: This member is **REQUIRED** on failure. This member **MUST NOT** exist if there was no error triggered during invocation. The value of this member **MUST** be an [`JSONRPCError`](#612-jsonrpcerror-object) object.
- The members `result` and `error` are mutually exclusive: one **MUST** be present, and the other **MUST NOT**.

### 6.12. `JSONRPCError` Object

When a JSON-RPC call encounters an error, the Response Object will contain an `error` member with a value of this structure.

```typescript
interface JSONRPCError {
  // A Number that indicates the error type that occurred.
  // This MUST be an integer.
  code: number;
  // A String providing a short description of the error.
  // The message SHOULD be limited to a concise single sentence.
  message: string;
  // A Primitive or Structured value that contains additional information about the error.
  // This may be omitted. The value of this member is defined by the Server (e.g. detailed error codes,
  // debugging information).
  data?: any;
}
```

| Field Name | Type            | Required | Description                                                                                                  |
| :--------- | :-------------- | :------- | :----------------------------------------------------------------------------------------------------------- |
| `code`     | `integer`       | Yes      | Integer error code. See [Section 8 (Error Handling)](#8-error-handling) for standard and A2A-specific codes. |
| `message`  | `string`        | Yes      | Short, human-readable summary of the error.                                                                  |
| `data`     | `any` \| `null` | No       | Optional additional structured information about the error.                                                  |

